
\section{函数极限存在的条件}
\label{sec:the-condition-of-function-limit-exist}

\begin{theorem}[函数极限与数列极限的关系]
  在$x_0$的某空心邻域内有定义的函数$f(x)$，当$x \to x_0$时存在极限的充分必要条件是，对于任意一个在这空心邻域内取值并以$x_0$为极限的数列$x_n$，$\lim_{n \to \infty}f(x_n)$都存在而且都相等。
\end{theorem}

\begin{proof}[证明]
  先证必要性，如果$\lim_{x \to x_0} = A$，那么对于任意小的正实数$\varepsilon > 0$，都存在另一个正实数$\delta > 0$，使得对这邻域内满足$|x-x_0|<\delta$的实数$x$都成立不等式$|f(x)-A|<\varepsilon$，那么对于任意一个也在这空心邻域内取值并以$x_0$为极限的数列$x_n$，因为它以$x_0$为极限，所以对于这个$\delta>0$，就必然能够从某一项$x_N$开始，后面的所有项都满足$|x_n-x_0|<\delta$，于是就有$|f(x_n)-A|<\varepsilon$，这就表明$f(x_n)$当$n \to \infty$时以$A$为极限，必要性得证。

  再证充分性，如果对于任意一个在这空心邻域内取值并收敛到$x_0$的数列$x_n$，对应的函数值数列$f(x_n)$都收敛到同一实数$A$，我们将证明，函数$f(x)$在$x \to x_0$时也必将收敛到$A$. 采用反证法，假使函数$f(x)$当$x \to x_0$时不以数$A$为极限，那么必然存在某个$\varepsilon_0>0$，使得无论把另一个正实数$\delta>0$限制得多么小，总有满足$|x-x_0|<\delta$的实数$x$能够使得$|f(x)-A| \geqslant \varepsilon_0$成立，于是先取$\delta=1$，得出一个符合这条件的实数$x_1$，然而取$\delta=\min\{\frac{1}{2}, |x_1-x_0|\}>0$，又可以选出$x_2$，依次这样下去，逐个令$\delta_n=\min\{\frac{1}{n}, |x_{n-1}-x_0|\}$，就可以挑选出$x_{n+1}$，这样就作出一个数列$x_n$，由$|x_n-x_0|<\delta_n<\frac{1}{n}$可知$x_n$收敛到$x_0$，但是由于$|f(x_n)-A| \geqslant \varepsilon$恒成立，可知数列$f(x_n)$并不收敛到$A$，这样，我们就证明了如果函数$f(x)$当$x \to x_0$时不以$A$为极限，那么就可以构造出一个以$x_0$为极限的数列$x_n$，使得$f(x_n)$也不以$A$为极限，这与我们的条件是矛盾的，所以充分性得证。
\end{proof}

事实上，如果任意以$x_0$为极限的数列$x_n$，函数值数列$f(x_n)$都收敛的话，这些极限值也必然相同，这是因为，如若不然，假如两个数列$x_n$和$r_n$分别以$A$和$B$为极限，那么在这两个数列中交错的取项构成另一数列$s_n$，显然$s_n$也以$x_0$为极限，而函数值数列$f(s_n)$中的奇数下标子列和偶数下标子列分别以$A$和$B$为极限，由条件知$f(s_n)$应有极限，所以$A=B$.有了这结论，上述定理中的条件可以适当减弱。

与数列的单调有界定理相仿，我们有以下定理
\begin{theorem}
  如果函数$f(x)$在$x_0$的某左空心邻域内单调递增且有上界，则函数$f(x)$在$x_0$处的左极限存在，右极限也有类似的结论。
\end{theorem}

\begin{proof}[证明]
证明很简单，只要在这左邻域内任取一单调增加并以$x_0$为极限的数列$x_n$，则函数值数列$f(x_n)$亦必是单调增加的数列，而它又有上界，所以它有极限，设这极限为$A$，则易证$A$便是函数在这左空心邻域内的上确界，那么对于无论多么小的正实数$\varepsilon$，都存在正整数$N$，使得当$n>N$时恒有$|f(x_n)-A|<\varepsilon$成立，于是取$\delta = x_0-x_{N+1}>0$，则对于任意满足$x_0-\delta<x<x_0$的实数$x$，有$x_N+1<x<x_0$，因而$A-\varepsilon<f(x_{N+1})<f(x) \leqslant A$，这表明$A$就是$f(x)$在$x_0$处的左极限。
\end{proof}

仿照数列的柯西收敛准则，有
\begin{theorem}
  函数$f(x)$在$x_0$的某空心邻域内有定义，则它在该存在极限的充分必要条件是: 任给无论多么小的正实数$\varepsilon$，恒存在另一正实数$\delta$，使得对任意满足$|x-x_0|<\delta$的两个实数$x_1$和$x_2$都成立$|f(x_1)-f(x_2)|<\varepsilon$.
\end{theorem}

\begin{proof}[证明]
  必要性是容易证明的，略去，下证充分性，取正实数数列$\varepsilon_n=1/n(n=1,2,\ldots)$，存在另一单调递减的正实数数列$\delta_n$，使得对于任意满足$|x_1-x_0|<\delta_n$和$|x_2-x_0|<\delta_n$的$x_1,x_2$都成立$|f(x_1)-f(x_2)|<\varepsilon_n$，于是函数$f(x)$在$x_0$的以$\delta_n$为半径的空心邻域内的函数值都必将限于一个长度为$\varepsilon$的闭区间$[m_n,M_n]$上，显然这个闭区间序列符合闭区间套定理的条件，所以有唯一实数$A$从属于所有的闭区间，显然这实数$A$也是函数$f(x)$在$x_0$处的极限。
\end{proof}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../../book"
%%% End:
