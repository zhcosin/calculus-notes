
\section{实数理论}
\label{sec:real-number-theory}

分析学的基础建立在实数的公理化体系之上，在讨论极限理论之前，先来讨论一下实数的理论。

\subsection{实数的十进制表示与大小关系}
\label{sec:decimal-system}

在人类历史上，为了计数而引进了自然数，最初以算筹的数量代表对应的数字，但这对于较大的数比较困难，为了表示数100就需要100根算筹，于是发明了十进制，这样所需的算筹数量就大大减少，之所以是十进制很可能是因为人正好有十根手指头，便于比划数字。后来为了解决多人平分食物等生活资料的问题又引进了整数之比即有理数的概念，再往后毕达哥拉斯学派根据勾股定理，发现了边长为1的正方形的对角线的长度不是有理数，引发了第一次数学危机，这次危机随着无理数的引入而得以解决。有理数与无理数一起，构成了全体实数。但在实数范围内，像$x^2+1=0$这样的代数方程没有解，为了从理论上解决这个问题而引入了虚数的概念，实数与虚数一起构成了复数，代数方程的理论在复数范围内得到彻底的解决。

本节只讨论实数。在十进制下，一个实数$x$具有如下表示:
\begin{equation}
  \label{eq:decimal-format-of-real}
 x=a_na_{n-1}\cdots a_1a_0.a_{-1}a_{-2}\cdots 
\end{equation}
其中$a_i \in \{0,1,2,3,4,5,6,7,8,9 \}$，并且最左边的数位$a_n$非零（否则省略这一位不写），十进制就是说，这个式子表示的数值其实是
\[ x=10^na_n+10^{n-1}a_{n-1}+\cdots+10a_1+a_0+\frac{a_{-1}}{10}+\frac{a_{-2}}{10^2}+\cdots \]
即\autoref{eq:decimal-format-of-real}实际表示的数值是它每一位数字与该数位上的权值之积的和，这一点是十分重要的，因为这样我们就只需要$0-9$这十个数符就可以表示出任意实数，而不必为每一个数都去发明一个对应的数符，那样既是不可能的，也是很难使用的。

在这种表示下，数位$a_0$称为个位，$a_1$称为十位，$a_2$称为百位，依次类推，在$a_0$以后的部分称为小数部分，$a_0$以及$a_0$左边的部分称为整数部分，两部分之间用小数点来分隔出明确的界限。

需要说明的是，实数十进制表示的小数部分是可以无限延伸的，但整数部分只能是有限位，并且规定，如果小数部分从某一位起全部都是零，则可以省写这些零，这样的小数称为有限小数，否则便称为无限小数。

如果无限小数的小数部分有连续重复出现的片段，例如 $0.12345678678678678\cdots$，这以后的数位全是重复的片段$678$，就称这小数为循环小数，并简写为$0.12345\dot{6}7\dot{8}$，即在循环片段的首尾两个数字上加点。如果没有这样的连续重复出现片段，则称为无限不循环小数。

关于整数的一个极为深刻的结论是
\begin{theorem}[带余除法]
  对任意两个整数$a$和$b$，其中$b$为正整数，则存在唯一一对整数$q$与$r(0\leqslant r < b)$，使得$a=qb+r$成立.这整数$q$及$r$分别称为$a$除以$b$所得的\emph{商}和\emph{余数}.
\end{theorem}

\begin{proof}[证明]
  以$b$的倍数为界点将全体实数划分为区间序列$\ldots,[-2b,-b),[-b,0),[0,b),[b,2b),\ldots$，这些左闭右开区间两两无交集，且它们的并集就是全体实数，那么整数$a$必定从属于其中某一个区间，假定是$[mb,(m+1)b)$，则取$q=m,r=a-mb$即满足定理条件，反过来，如果还有另一组$q_1$及$r_1$满足定理中条件，那么有$q_1b \leqslant a < (q_1+1)b$，这即表明$q_1=m$，从而$r_1=a_{mb}$，这就证得了商及余数的唯一性。
\end{proof}

利用带余除法，可以证明
\begin{theorem}
  有理数都是有限小数或者无限循环小数.
\end{theorem}

\begin{proof}[证明]
  设有理数$\frac{a}{b}$，其中$a$与$b$是整数，由于这结论与数的符号无关，所以假定这分子分母还是正的。这个证明过程其实就是两个正整数做除法的过程，思路就是在这个除法过程中，每一步所得的余数，或者是零从而被除尽，或者便要重复出现.

  先用$a$除以$b$，记商与余数分别为$q$及$r$，即$a=qb+r(0\leqslant r < b)$，如果$r>0$，再用$10r$除以$b$，所得的商与余数分别记为$q_1$与$r_1$，如果仍然有$r_1>0$，则再将$10r_1$除以$b$得到商$q_2$与余数$r_2$，依次类推，得到序列$q_i$与$r_i$，这时有$q_i(i \leqslant 1)$只能取$0$到$9$中的数字，这是因为$10r_{i-1}=q_ib+r_i$，而$0 \leqslant r_{i-1} < b$，所以$q_i$不能超过9，而由于$0 \leqslant r_i < b$，所以$r_i$也只能在集合$\{0,1,2,\ldots,b-1\}$这个有限集中取值，如果某一次取到了零$r_m=0$，则这个除法过程就结束了，而最终有
  \[ \frac{a}{b} = q + \sum_{i=0}^{m-1}\frac{q_i}{10^i} = q.q_1q_2\cdots q_{m-1} \]
  即为有限小数。如果$r_i$始终不能取到零，那么必然存在某个$i$及$j(> i)$使得$r_i=r_j$，既然出现了相同的余数，那么在分别用$10r_i$和$10r_j$去除以$b$时也会得出相同的商$q_{i+1}$和$q_{j+1}$，于是进一步出现相同的$r_{i+1}$与$r_{j+1}$，这个过程将无限重复下去，这时就有
  \[ \frac{a}{b} = q.q_1q_2 \cdots q_iq_{i+1} \cdots q_jq_{j+1} \cdots \]
  这里从$q_i$到$q_{j-1}$便是一个重复片段，为小数的循环部分（不一定是最小循环片段），即为无限循环小数。
\end{proof}

反之，有限小数与无限循环小数也都是有理数，但无限循环小数是有理数的证明涉及无限个数相加的和，这里暂不讨论。

我们规定，循环部分为一个单9的实数，等于将后面的9全部收上来的有限小数，即$1=0.\dot{9}$，等等。

接下来讨论实数的大小问题，我们首先规定0-9这10个数符的大小关系，即0小于1，1小于2，如此递推，直到8小于9，在此基础上，我们定义实数的大小关系:
\begin{definition}
  对于两个实数$a=a_na_{n-1}\cdots a_1a_0.a_{-1}a_{-2}\cdots$与$b=b_nb_{n-1}\cdots b_1b_0.b_{-1}b_{-2}\cdots$(如果它俩最高位不是同一数位，可以将最高位权重较低的那个前面补零)，如果存在某个整数$m (\leqslant n)$，使得$a_m<b_m$，并且对于所有大于$m$的整数$i$都有$a_i=b_i$，则称实数$a$小于实数$b$，记作$a<b$，这时也称实数$b$大于实数$a$，记作$b>a$.
\end{definition}

这定义就是说，实数$a$小于实数$b$的充分必要条件是，从左边开始，第一个数符不同的数位上，$a$在该数位上的数符小于$b$在该数位上的数符。

\subsection{最小自然数原理}
\label{sec:minimum-nature-number-principle}

\begin{principle}[最小自然数原理]
  任意非空的自然数集合中，必定存在一个最小的自然数。
\end{principle}

这个原理虽然看起来显而易见，但它是实数公理化体系的一部分。

\subsection{确界定理}
\label{sec:least-bound-theorem}

对于一个实数集，如果存在实数$M$，使得集合中的全部数$x$都满足$x \leqslant M$，则称实数$M$是这数集的一个\emph{上界}，如果不等式是反向的，则称这实数是这数集的一个\emph{下界}，显然，如果$M$是某个数集的上界，则比$M$大的所有实数也都是这数集的上界，对下界亦有类似结论。

如果数集既有上界又有下界，则称数集\emph{有界}，有界数集的所有项的数值能够被某个区间所全部包含。

有界的另一种表述是，存在正实数$M>0$，使得数集的全部数$x$都满足$|x| \leqslant M$，这与前述说法是等价的。

\begin{definition}
对于一个有上界的实数集，如果某个实数$M$满足: (1)它是这数集的上界. (2)对于无论多么小的正实数$\epsilon$，总存在数集中的数$x$使得$x>M-\epsilon$，则称实数$M$是这数集的\emph{上确界}，类似的有\emph{下确界}的定义.
\end{definition}

显然，上确界是最小的上界，下确界是最大的下界。

\begin{theorem}[确界定理]
若实数集合(无论有限集无限集)有上界，则有上确界，下界亦有相应结论。
\end{theorem}

\begin{proof}[证明]
设实数集合$A$有上界$M$，我们先构造出一个数$K$，再证明构造出的这个数正是这集合的上确界。

根据最小数原理，集合$A$中元素的整数部分有最大值，令$K$的整数部分与之相同，这整数部分记作$K_0$。

再将集合$A$中所有元素乘以10后舍去小数部分，这些新数组成的新集合记作$A_1$，这集合有上界$10M$，因此按最小数原理，它也有最大值，而且这最大值除个位以外的部分正是$K_0$(按$K_0$的定义)，取这最大值的个位作为$K$的十分位。$K$的其余数位依次类推，$K$在$10^{-n}$上的数位是将集合$A$中全体元素乘以$10^n$后舍去小数部分所得新集合中最大数的个位数。

现在证明，数$K$是集合$A$的上确界，先证明它是上界，反证法，若它不是上界，则$A$中存在比它更大的数$x_0$，那么按实数大小关系定义，在比较$x_0$与$K$时，从左边开始往右比较，第一个不相同的数位上，$x_0$在该数位上的数大于$K$在该数位上的数，但这与$K$在这一数位上的数值的确定方法相矛盾，所以$K$是上界。其次需要证明，$K$是最小的上界，设$L$是一个小于$K$的实数，那么它与$K$相比，从左边开始第一个不相同的数位上，它对应的数较小，假定这数位就是$10^{-n}$，并设$K$和$L$在舍去这一数位以后的全部数位后所得的数分别是$K_n$和$L_n$，那么$K_n>L_n$，但根据$K$的确定过程可知，对于任何正整数$n$，$A$中都存在不小于$K_n$的数，自然这数也就大于$L_n$，因此$K$是最小的上界，即为上确界。
\end{proof}

\subsection{伯努利不等式}
\label{sec:bernoulli-inequality}

\begin{theorem}[伯努利(Bernoulli)不等式]
  \label{theorem:bernoulli-inequality}
  设实数$x \geqslant -1$，则对任意正整数$n$成立不等式
  \begin{equation}
    \label{eq:bernoulli-inequality}
   (1+x)^n \geqslant 1+nx 
 \end{equation}
 等号成立的充分必要条件是$x=0$或者$x=-1,n=1$.
\end{theorem}

\begin{proof}[证明]
  在$x \geqslant 0$时，左边按二项式定理展开可以看到它是成立的，所以关键是如何证明$x<0$的情形。

  在等式(它可以经由数学归纳法得出)
  \[ a^n-b^n = (a-b)(a^{n-1}+a^{n-2}b+\cdots+ab^{n-2}+b^{n-1}) \]
  在式中令$a=1+x$，$b=1$便得
  \[ (1+x)^n-1=x \left[ (1+x)^{n-1}+(1+x)^{n-2}+\cdots+(1+x)+1 \right] \]
  如果$x>0$，则右边中括号内的部分显然大于$n$，于是要证的不等式成立，而如果$-1<x<0$，则中括号内的部分小于$n$，再与负数$x$相乘，不等式反向即证出伯努利不等式。
\end{proof}

\subsection{复数}
\label{sec:complex-number}

数系的扩充与解方程密切相关，为了解一元一次方程引入了有理数，数系被扩充为有理数集，为了解二次方程又发现了无理数，由此我们的数系被扩充到了实数集。但在实数范围内，方程$x^2+1=0$仍然无解，于是引入了虚数，虚数与实数一起构成了更加广阔的复数集。

复数集的引入，理由虽然比较牵强，但后来的事实表明，很多数学理论在复数范围内都能得到完美的解决，例如代数学基本定理就表明，任何一个关于某未知数的$n$次方程，在复数范围内都有且仅有$n$个根(重根按重数计数)，又例如，有些数列，它的每一项都是整数，然而它的通项，却只能借助复数来表达，又比如，在复数范围内，指数函数将与三角函数产生密切关系，欧拉公式$e^{ix}=\cos{x}+i\sin{x}$便揭示了这一点，这在实数范围内是很难看清二者的关系的。诸如此类，许多理论都表明复数具有重大的理论意义，这一点随着我们对高等数学的更多了解，将能有更多体会。

为了解方程$x^2+1=0$，引入一个虚数$i$，规定$i^2=-1$，因为实数范围内是不可能有某个数的平方是负的，所以这引入的$i$便称为一个虚数，并且称它是虚数单位。规定虚数可以与实数相加与相乘，并且符合实数运算所满足的交换律、结合律、分配律。

那么将实数与虚数进行混合加法与乘法运算，会有什么结果呢，将$i$与实数$b$相乘得出$bi$，再将$bi$与实数$a$相加得到$a+bi$，这个形式无法继续化简了，它就是复数的一般形式，也就是任意一个复数都具有这种形式，我们就来证明它。

\begin{theorem}
  将实数与虚数单位$i$进行有限次加法与乘法的混合运算，得出的结果都具有形式$a+bi(a,b\in R)$.
\end{theorem}

\begin{proof}[证明]
  只利用加法与乘法，运算对象为实数与虚数单位$i$，那么最终结果是关于$i$的实系数多项式
  \[ a_ni^n+a_{n-1}i^{n-1} + \cdots + a_2i^2 + a_1i+a_0 \]
  根据虚数单位$i$的定义，可知其乘幂$i^n$依次循环取值$i,-1,-i,1$，由此便知定理成立。
\end{proof}

由此，复数都具有形式$z=a+bi(a,b\in R)$，$a$称为它的\emph{实部}，记作$Re(z)$，$b$称为它的虚部，记作$Im(z)$，显然复数$a+bi$与数对$(a,b)$一一对应，于是便与坐标平面上的点一一对应，于是坐标平面上的每一个点都对应着一个复数，于是这平面便被称为\emph{复平面}.

规定，两个复数相等当且仅当它们的实部和虚部分别相等.此外，复数集上没有大小关系。

称复数$a-bi$是复数$z=a+bi$的\emph{共轭复数}，记作$\overline{z}$，即共轭的两个复数实部相等而虚部互为相反数，显然
\[ z+\overline{z}=2Re(z), \  z-\overline{z}=2iIm(z), \  z\overline{z}=|z|^2 \]

再定义减法为加法的逆运算，那么按照实数的运算定律，有
\[ (a_1+b_1i) \pm (a_2+b_2i) = (a_1 \pm a_2) + (b_1 \pm b_2)i \]
这显然也可以推广到任意有限个复数相加的情形，显然，复数的加减法对应着数对的加减法，也就对应着向量的加减法。

不难验证，关于共轭复数有
\[ \overline{z_1+z_2}=\overline{z_1}+\overline{z_2} \]

关于乘法，有
\begin{eqnarray*}
  (a_1+b_1i)(a_2+b_2i) & = & a_1a_2+(a_1b_2+a_2b_1)i + b_1b_2 i^2 \\
  & = & (a_1a_2-b_1b_2) + (a_1b_2+a_2b_1)i
\end{eqnarray*}

同样规定除法为乘法的逆运算，有
\begin{eqnarray*}
  \frac{a_1+b_1i}{a_2+b_2i} & = & \frac{(a_1+b_1i)(a_2-b_2i)}{(a_2+b_2i)(a_2-b_2i)} \\
  & = & \frac{(a_1a_2+b_1b_2)+(b_1a_2-a_1b_2)i}{a_2^2+b_2^2}
\end{eqnarray*}

同样可以验证
\[ \overline{z_1z_2} = \overline{z_1} \cdot \overline{z_2}, \  \overline{\left( \frac{z_1}{z_2} \right)} = \frac{\overline{z_1}}{\overline{z_2}} \]

利用变换$x=r\cos{\theta}$，$y=r\sin{\theta}$，复数$z=a+bi$可以改写为
\[ z=r(\cos{\theta}+i\sin{\theta}) \]
这称为复数的三角形式，其中$r=\sqrt{x^2+y^2}$称为复数的\emph{模}，记作$|z|$，角$\theta$称为这复数的\emph{辐角}，记作$Arg(z)$，由于三角函数的周期性，将满足$0\leqslant \theta < 2\pi$的那个辐角称为\emph{辐角主值}，记作$arg(z)$.

显然，如果两个复数相等，它们的模相等，并且它们辐角集合相等。

我们看一下在这种形式下复数的乘除法运算:
\begin{eqnarray*}
  &&  r_1(\cos{\theta_1}+i\sin{\theta_1}) \cdot r_2(\cos{\theta_2}+i\sin{\theta_2}) \\
  & = & r_1r_2[(\cos{\theta_1}\cos{\theta_2}-\sin{\theta_1}\sin{\theta_2})+(\cos{\theta_1}\sin{\theta_2}+\cos{\theta_2}\sin{\theta_1})i] \\
  & = & r_1r_2(\cos{(\theta_1+\theta_2)}+i\sin{(\theta_1+\theta_2)})
\end{eqnarray*}
而
\begin{eqnarray*}
  &&  \frac{r_1(\cos{\theta_1}+i\sin{\theta_1})}{r_2(\cos{\theta_2}+i\sin{\theta_2})} \\
  & = & \frac{r_1(\cos{\theta_1}+i\sin{\theta_1}) \cdot r_2(\cos{\theta_2}-i\sin{\theta_2})}{r_2(\cos{\theta_2}+i\sin{\theta_2}) \cdot r_2(\cos{\theta_2}-i\sin{\theta_2})} \\
  & = & \frac{r_1r_2[(\cos{\theta_1}\cos{\theta_2}+\sin{\theta_1}\sin{\theta_2})+i(\sin{\theta_1}\cos{\theta_2}-\cos{\theta_1}\sin{\theta_2})]]}{r_2^2(\cos^2{\theta_2}+\sin^2{\theta_2})} \\
  & = & \frac{r_1}{r_2}[\cos{(\theta_1-\theta_2)+i\sin{(\theta_1-\theta_2)}}]
\end{eqnarray*}

可见两个复数相乘除，就是将两个复数的模相乘除得到乘积或商的模，两个复数的辐角相加减得到乘积或商的辐角，这与向量的乘法(无论内积还是外积)不再一致，复数乘法在三角形式下变得相当简单，而且这显然可以推广到任意有限个复数相乘的情形。

更特别的是复数的乘幂，容易知道
\begin{equation}
  \label{eq:de-moivre-formula}
  [r(\cos{\theta}+i\sin{\theta})]^n = r^n(\cos{n\theta}+i\sin{n\theta})
\end{equation}
这就是复数乘幂的\emph{棣莫弗公式}.

\begin{example}[正余弦的$n$倍角公式与切比雪夫多项式]
  利用棣莫弗公式，我们可以得到正余弦的$n$倍角公式，在棣莫弗公式中令$r=1$，得
  \[ \cos{n\theta}+i\sin{n\theta} = (\cos{\theta}+i\sin{\theta})^n \]
  将右边利用二项式定理展开，得
  \[ \cos{n\theta}+i\sin{n\theta} = \sum_{k=0}^n C_n^k i^k \cos^{n-k}{\theta}\sin^k{\theta} \]
  当$k$为偶数时，求和中的通项变为实数，当$k$为奇数时，则它为虚数，据此可以将上式右端的实数和虚部分开
  \begin{eqnarray*}
   && \cos{n\theta}+i\sin{n\theta}  \\
    & = & \sum_{0 \leqslant 2r \leqslant n}^n (-1)^rC_n^{2r} \cos^{n-2r}{\theta}\sin^{2r}{\theta} + i\sum_{0 \leqslant 2r+1 \leqslant n}(-1)^rC_n^{2r+1} \cos^{n-2r-1}{\theta}\sin^{2r+1}{\theta} 
  \end{eqnarray*}
  于是得到
  \begin{eqnarray}
    \label{eq:cos-sin-of-n-theta}
    \cos{n\theta} & = & \sum_{0 \leqslant 2r \leqslant n}^n (-1)^rC_n^{2r} \cos^{n-2r}{\theta}\sin^{2r}{\theta} \\
    \sin{n\theta} & = & \sum_{0 \leqslant 2r+1 \leqslant n}(-1)^rC_n^{2r+1} \cos^{n-2r-1}{\theta}\sin^{2r+1}{\theta}
  \end{eqnarray}
  这就是余弦和正弦的$n$倍角公式.

  根据这公式，由于$\cos{n\theta}$的每一项中的正弦的指数都是偶数，所以都可以化为余弦，于是$\cos{n\theta}$可以展开为$\cos{\theta}$的$n$次多项式，这就是\emph{第一类切比雪夫多项式}，即
  \[ T_n(x) = \sum_{0 \leqslant 2r\leqslant n}(-1)^rC_n^{2r}x^{n-2r}(1-x^2)^r \]
  在$\sin{n\theta}$的展式中，$\sin{\theta}$的次数都是奇数，所以$\dfrac{\sin{(n+1)\theta}}{\sin{\theta}}$也可以展开为$\cos{\theta}$的$n$次多项式，这就是\emph{第二类切比雪夫多项式}，即
  \[ U_n(x)=\sum_{0 \leqslant 2r+1 \leqslant n+1}(-1)^rC_{n+1}^{2r+1}x^{n-2r}(1-x^2)^r \]
  关于切比雪夫多项式的更多讨论参见\cite{elementary-math-notes}.
\end{example}

有了棣莫弗公式，我们来讨论一下复数的开方。

记$z=r(\cos{\theta}+i\sin{\theta})$，现在来求它的$n$次方根，设$z'=r'(cos{\theta'+i\sin{\theta'}})$是它的一个$n$次方根，按棣莫弗公式，应有
\[ z'^n=r'^n(\cos{n\theta'}+i\sin{n\theta'}) \]
因为$z'^n=z$，所以有$r'^n=r$，以及$n\theta'=\theta+2m\pi(m \in Z)$，即
\[ r'=\sqrt[n]{r}, \  \theta'=\frac{\theta+2m\pi}{n}(m=0,1,\ldots,n-1) \]
或者写成
\[ \sqrt[n]{z}=\sqrt[n]{r} \left( \cos{\frac{\theta+2m\pi}{n}}+i\sin{\frac{\theta+2m\pi}{n}} \right), \  (m=0,1,\ldots,n-1) \]
根据周期性，可知$z$的$n$次方根正好有$n$个，它们均匀分布在复平面上以原点为圆心，以$|z|$为半径的圆上，于是在复数范围内，任何数都可以开$n$次方.


特别的是当$z=1$时，对1进行开$n$次方，因为$1=\cos{0}+i\sin{0}$，于是得它的根
\[ \varepsilon_i = \cos{\frac{2i\pi}{n}}+i\sin{\frac{2i\pi}{n}}, \  i=0,1,\ldots,n-1 \]
这些根$\varepsilon_i(i=0,1,\ldots,n-1)$称为\emph{$n$次单位根}，根据复数乘法可以知道
\[ \varepsilon_{i+1} = \varepsilon_1 \varepsilon_i \]
实际上更一般的结论是
\[ \varepsilon_i \varepsilon_j = \varepsilon_{i+j} \]


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../calculus-note"
%%% End:
