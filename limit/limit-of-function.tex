
\section{函数的极限}
\label{sec:limit-of-function}

\subsection{趋无穷的极限}
\label{sec:limit-of-function-at-infinite-point}

与数列的极限有所区别，函数的极限过程有两大类，一类是自变量趋于正无穷或者负无穷的极限，一类是自变量趋于某个固定点的极限。

\begin{definition}
  设函数$f(x)$在无穷区间$(a,+\infty)$上有定义，$A$是一个实数，如果对于任意小的正实数$\varepsilon$，总存在实数$X(>a)$，使得$x>X$时恒有$|f(x)-A|<\varepsilon$成立，则称数$A$是函数$f(x)$在自变量$x$趋于正无穷大时的 \emph{极限}，记作:
  \[ \lim_{x\to\infty}f(x) = A \]
\end{definition}
类似的可以得函数当自变量趋于负无穷大的极限定义，并且如果函数当自变量趋于正无穷大和负无穷大时都有极限而且极限相同，则称函数当自变量趋于无穷大时有极限，这也可以从绝对值来定义而不考虑自变量的符号。


\subsection{趋点极限与单侧极限}
\label{sec:limit-of-function-at-point}

当自变量趋于某点的极限定义如下:
\begin{definition}
  设函数$f(x)$在$x_0$的某空心邻域内有定义，$A$是一个实数，如果对于任意小的正实数$\varepsilon>0$，总存在另一正实数$\delta>0$，使得定义域中满足$0<|x-x_0|<\delta$的数$x$恒有$|f(x)-A|<\varepsilon$，则称$A$是函数$f(x)$当自变量趋于$x_0$时的极限，记作
  \[ \lim_{x\to x_0} f(x) = A \]
\end{definition}
要指出的是，1. 定义中限定了$x\neq x_0$是因为函数在该点处的情况与该点处是否存在极限无任何关系. 2. 函数$f(x)$在自变量趋于$x_0$时即使收敛，其极限值也并不一定等于$f(x_0)$，实际上函数在$x_0$也并不一定有定义。

考虑到$x$趋于$x_0$的方式，它可以从小于$x_0$的一侧去靠近它，也可以从大于$x_0$的一侧去靠近它，也可以时而在大于$x_0$的一侧，时而位于小于$x_0$的一侧的方式去接近它，所以在这里我们给出 \emph{单侧极限} 的概念。

\begin{definition}
  如果函数$f(x)$在$x_0$的某个右空心邻域内有定义，$A$是一个实数，如果对于任意小的正实数$\varepsilon>0$，都存在另一个正实数$\delta>0$，使得当$x_0<x<x_0+\delta$时恒有$|f(x)-A|<\varepsilon$成立，则称$A$是函数$f(x)$在$x_0$处的 \emph{右极限}，记作
  \[ \lim_{x \to x_0^+} f(x) = A \]
\end{definition}
类似的，把右空心邻域改为左空心邻域，把不等式$x_0<x<x_0+\delta$换成$x_0-\delta<x<x_0$，就可以得到 \emph{左极限} 的定义，左极限记作:
  \[ \lim_{x \to x_0^-} f(x) = A \]

  显然，$\lim_{x \to x_0} f(x) = A$的充分必要条件是 $\lim_{x \to x_0^+} f(x) = \lim_{x \to x_0^-} f(x) = A$.
 
\begin{example}
  \label{example:limit-of-x-power-integer}
  设$n \in \mathbb{Z}$，我们来证明
  \[ \lim_{x \to x_0} x^n = x_0^n \]

  由
  \[ x^n-x_0^n = (x-x_0)(x^{n-1}+x^{n-2}x_0+\cdots+xx_0^{n-2}+x_0^{n-1}) \]
  限定$x \in (x_0-\delta,x_0+\delta)$，令$M=\max\{|x_0-\delta|,|x_0+\delta|\}$，则
  \[ |x^n-x_0^n| < nM^{n-1}|x-x_0| \]
  注意这里的$nM^{n-1}$是常数，以$P$表之，则对于任意小的正实数$\varepsilon$，只要取$\delta=\frac{\varepsilon}{P}$，就能保证$|f(x)-f(x_0)|<\varepsilon$对任意$x \in (x_0-\delta,x_0)\cup(x_0,x_0+\delta)$恒成立，即得结论.
\end{example}

\begin{example}
  \label{example:limit-of-sin-1-over-x-at-0}
  考虑函数$f(x)=\sin{\frac{1}{x}}$在$x \to 0$时的极限情况，此时函数在-1与1之间完成无穷次振动，它的函数值不可能无限靠近任意一个实数，所以它在$x=0$处不存在极限.但若将它稍加改造，考虑函数$f(x)=x\sin{\frac{1}{x}}$，则此时它的图象将被限定在$y=x$和$y=-x$之间并且在靠近零时，无限的在两个函数之间振动，此时显然有$|x\sin{\frac{1}{x}}|\leqslant |x|$，所以显然就有
  \[ \lim_{x \to 0} x \sin{\frac{1}{x}} = 0 \]
\end{example}

\begin{example}
  \label{example:limit-of-dirichlet-function}
  狄利克雷(Dirichlet，德国数学家)函数$D(x)$是一个指示一个实数是有理数还是无理数的标志函数，它定义在全体实数上，当$x$是有理数时，$D(x)=1$，当$x$是无理数时，$D(x)=0$，即
  \[
    D(x) =
    \begin{cases}
      1 & x \in \mathbb{Q} \\
      0 & x \in \mathbb{R}-\mathbb{Q}
    \end{cases}
  \]
  现在来证明它在任意$x_0 \in \mathbb{R}$处的极限情况，当$x$取有理数并趋于$x_0$时，函数值趋于1，但当$x$取无理数趋于$x_0$时，函数值趋于零，因而函数在$x_0$处没有极限，即在任意点处都不存在极限。
\end{example}

  \begin{example}
    \label{example:single-limits-of-gausse-function}
    高斯函数是一种取整函数，它通常用专门的记号$[x]$来表示，在数论中有着广泛的应用，它的定义是，对任意实数$x$，函数值是不超过$x$的最大整数，例如，$[2.3]=2$,$[\pi]=3$,$[-4.5]=-5$，现在考虑一下高斯函数在自变量取整数处的极限情况。

    设$x_0 \in \mathbb{Z}$，那么对于它的邻域$(x_0-1,x_0+1)$来说，右邻域$(x_0,x_0+1)$上的函数值都是$x_0$，但左邻域$(x_0-1,x_0)$上的函数值都是$x_0-1$，所以有
    \[ \lim_{x \to x_0^+} [x] = x_0, \  \lim_{x \to x_0^-} [x] = x_0-1 \]
    但是$\lim\limits_{x \to x_0}[x]$不存在. 
\end{example}

\begin{example}
  \label{example:limit-of-riemann-function}
  黎曼(Riemann，德国数学家)函数$R(x)$是一个有趣的例子，它定义在区间$[0,1]$上，具体定义如下，
  \[ R(x) =
    \begin{cases}
      \frac{1}{q} & x=\frac{p}{q} \in [0,1], p,q \in \mathbb{Z}, q >0, (p,q)=1 \\
      0 & x \in [0,1]-\mathbb{Q}
    \end{cases}
  \]
  简单来说，当$x$是有理数$\frac{p}{q}$时，$R(x)=\frac{1}{q}$，注意这里$p$、$q$是一对既约整数（即最大公因数为1），且$q$是正的。而当$x$是无理数时，$R(x)=0$.

  黎曼函数可以看成是狄利克雷函数的一个改进，我们现在来证明，黎曼函数在任意点处都有极限为零。

  任取数$x_0 \in [0,1]$，只需要证明$\lim\limits_{x \to x_0} R(x)=0$就可以了，对于任意小的正实数$\varepsilon>0$，我们要找一个$\delta>0$，使得$\forall x \in (x_0-\delta,x_0)\cup(x_0,x_0+\delta)$都有$|R(x)|<\varepsilon$成立，显然无理数是无关紧要的，这个$\delta$只需要由有理数来决定，当$x$是有理数$\frac{p}{q}(q>0)$时，我们就是要使
  \[ \frac{1}{q} < \varepsilon \]
  成立，这就需要让$(x_0-\delta,x_0)\cup(x_0,x_0+\delta)$上的一切有理数$\frac{p}{q}$都满足$q > \frac{1}{\varepsilon}$，这能否做到呢？是可以的，因为不满足这个条件的有理数是有限的（小于$\frac{1}{\varepsilon}$的正整数$q$是有限的，而小于这些$q$的非负整数$p$也是有限的），从而把这些有理数记为$x_1,x_2,\ldots,x_m$(注意这里的$m$跟$\varepsilon$有关)，则只要让$\delta$同时满足$\delta < |x_i-x_0|(i=1,2,\ldots,m)$，则这些有理数都不会落在范围$(x_0-\delta,x_0)\cup(x_0,x_0+\delta)$内，从而对于该范围内的一切有理数，前面所需要的条件就成立了，于是函数在$x_0$处有极限为零。
\end{example}
\subsection{函数极限的性质}
\label{sec:properties-of-function-limit}


与数列极限的性质相仿，函数极限具有类似的性质，以下定理都以$x\to x_0$为例，但它们对于自变量趋于无穷大时的极限也是成立的，由于与数列极限的相应结论对应，这里就省去了证明。

\begin{property}[唯一性]
  函数极限$\lim_{x \to x_0}f(x)$若存在必唯一.
\end{property}

\begin{theorem}[局部有界性]
  设函数$f(x)$在$x_0$的某空心邻域内有定义，若$\lim_{x \to x_0}f(x)$存在(非无穷的有限值)，则$f(x)$在$x_0$的某个空心邻域内有界。
\end{theorem}

\begin{theorem}[局部保号性]
  若函数$f(x)$在$x \to x_0$处的极限存在为$A$，则对于任意$r<A$都存在$x_0$的某个空心邻域内，在这邻域内恒有$f(x)>r$，同样，对于任意$r>A$，都存在$x_0$的某空心邻域，在这邻域内恒有$f(x)<r$.
\end{theorem}

\begin{theorem}[保不等式性]
 如果函数$f(x)$和$g(x)$都在$x_0$的某个空心邻内有定义，且在这邻域内上恒满足$f(x) \geqslant g(x)$，那么如果当$x \to x_0$时两个函数分别有极限$A$和$B$，则必有$A \geqslant B$.
\end{theorem}

\begin{theorem}[夹逼定理]
  在$x_0$的某空心邻域内有定义的三个函数$f(x)$、$g(x)$和$h(x)$，如果在这邻域内恒满足$f(x) \leqslant h(x) \leqslant g(x)$，那么如果当$x \to x_0$时$f(x)$和$g(x)$都收敛到$A$，那么这时$h(x)$也必收敛，且也收敛到$A$.
\end{theorem}

\begin{theorem}[四则运算法则]
  如果在$x_0$的某空心邻域内有定义的二函数$f(x)$和$g(x)$在$x \to x_0$时分别收敛到$A$和$B$，那么这由两个函数的和、差、积、商作成的新函数也收敛，并分别收敛到原先两个极限值和和、差、积、商，在商的情况下，要求分母不为零.
\end{theorem}

写成公式就是，在$\lim_{x \to x_0} f(x)$和$\lim_{x \to x_0}g(x)$都存在的前提下，有
\begin{eqnarray*}
  \lim_{x \to x_0} (f(x) \pm g(x)) & = & \lim_{x \to x_0} f(x) \pm \lim_{x \to x_0} g(x)  \\
  \lim_{x \to x_0} f(x)g(x) & = & \lim_{x \to x_0} f(x) \cdot \lim_{x \to x_0} g(x)  \\
  \lim_{x \to x_0} \frac{f(x)}{g(x)} & = & \frac{\lim_{x \to x_0} f(x)}{\lim_{x \to x_0} g(x)}  
\end{eqnarray*}

\begin{example}
  \label{example:limit-of-polynome-when-x-to-infty}
  设多项式
  \[ f(x)=a_nx^n+a_{n-1}x^{n-1}+\cdots+a_1x+a_0 (a_n \neq 0) \]
  现在考虑当$x \to \infty$、$x \to +\infty$、$x \to -\infty$时的极限，无论是哪一种趋限，都有$|x| \to \infty$，为此将多项式改写为
  \[ f(x) = x^n \left( a_n+\frac{a_{n-1}}{x}+\cdots+\frac{a_1}{x^{n-1}}+\frac{a_0}{x^n} \right) \]
  显然，当$|x| \to \infty$时，括号中带分式的项全部趋于零，因而此时的极限全部取决于$a_nx^n$，因此结论是，当$|x| \to \infty$时，$f(x)$为无穷大，如果指定$x$趋于正无穷或者负无穷，则相应的极限也是带符号的无穷大，其符号由$a_n$的符号决定。
\end{example}

\begin{example}
  \label{example:limit-of-fraction-function}
  再考虑一般的有理函数
  \[ f(x) = \frac{a_nx^n+a_{n-1}x^{n-1}+\cdots+a_1x+a_0}{b_mx^m+b_{m-1}x^{m-1}+\cdots+b_1x+b_0} \]
考虑它在无穷远处的极限，通过与上例类似的方法，可以得到，如果$m=n$，则极限为$\frac{a_n}{b_n}$，若$m>n$，则极限为零，若$m<n$，则极限为无穷大.
\end{example}

\begin{example}
  我们来建立一个有用的极限，设$r$为一个有理数，则有
  \[ \lim_{x \to 0} \frac{(1+x)^r-1}{x} = r \]
  $r=0$时结论显然成立，先来证明$r$是正整数的情况，由二项式定理有
  \[ \frac{(1+x)^n-1}{x} = \frac{C_n^1x+C_n^2x^2+\cdots+C_n^nx^n}{x} = C_n^1+C_n^2x+\cdots+C_n^nx^{n-1} \]
  所以得到
  \[ \lim_{x \to 0} \frac{(1+x)^n-1}{x} = n \]
  而对于$r$为负整数的情形，有
  \[ \frac{(1+x)^{-n}-1}{x} = \frac{1-(1+x)^n}{x} \cdot \frac{1}{(1+x)^n} \]
  令$x \to 0$，上式极限即为$-n$，所以结论对于$r$为一切整数的情形都成立.

  再设$r$是有理数$\frac{n}{m}$，令$t=(1+x)^{n/m}$，由公式
  \[ a^m-b^m=(a-b)(a^{m-1}+a^{m-2}b+\cdots+ab^{m-2}+b^{m-1}) \]
  得
  \[ \frac{(1+x)^{n/m}-1}{x} = \frac{t-1}{x} = \frac{t^m-1}{x(1+t+\cdots+t^{m-1})} = \frac{(1+x)^n-1}{x} \cdot \frac{1}{1+t+\cdots+t^{m-1}} \]
  当$x \to 0$时，第一个因子趋于$n$，第二个因子由于$t \to 1$而趋于$m$，因此整体趋于极限$\frac{n}{m}$，即$r$，得证。

  这就是说，在$x \to 0$时，有$(1+x)^r=1+rx+o(x)$.

  在以后，我们将把这结论推广到$r$为无理数的情形，从而对于指数为一切实数，结论都是成立的.
\end{example}

\subsection{复合函数的极限}
\label{sec:limit-of-composite-function}

关于复合函数的极限，有如下结论
\begin{theorem}
  \label{theorem:limit-of-combine-function}
  设有如下函数极限
  \[ \lim_{x \to x_0}g(x) = u_0, \  \lim_{u \to u_0}f(u) = y_0 \]
  且$g(x)$在$x_0$的某空心邻域上恒有$g(x) \neq u_0$，则有
  \[ \lim_{x \to x_0} f(g(x))=y_0 \]
\end{theorem}

\begin{proof}[证明]
  因为当$u \to u_0$时，$f(u) \to y_0$，所以对于无论多么小的正实数$\varepsilon$，总存在另一正实数$\delta$，使得当$0<|u-u_0|<\delta$时恒有$|f(u)-y_0|<\varepsilon$，而又由于当$x \to x_0$时$g(x) \to u_0$，所以对于前面提到的$\delta$，存在另一正实数$r$，使得当$0<|x-x_0|<r$时恒有$|g(x)-u_0|<\delta$，而$g(x)$又在$x_0$的某个半径为$r'$的空心邻域上函数值恒不为$u_0$，于是$\forall x,0<|x-x_0|<\min\{r,r'\}$，有$0<|g(x)-u_0|<\delta$，从而$|f(g(x))-y_0|<\varepsilon$，所以最终得到的结论就是：对于无论多么小的正实数$\varepsilon$，总存在另一正实数$r_1=\min\{r,r'\}$，使得当$0<|x-x_0|<r_1$时，恒有$|f(g(x))-y_0|<\varepsilon$，这就证得结论。
\end{proof}

要说明的是，这个定理中的条件是充分条件，但不是必要条件，考察下面这个例子就知道了:
\[ f(x) =
  \begin{cases}
    x+1 & x \neq 0,1 \\
    2 & x=0 \\
    1 & x=1
  \end{cases}
\]
与
\[ g(x) =
  \begin{cases}
    x-1 & x \neq 1,2 \\
    1 & x=1 \\
    0 & x= 2
  \end{cases}
\]
显然有$f(g(x))=x$在$x=1,2$处都连续，但显然不满足定理条件。

另外一点是，定理中$g(x)$在$x_0$的某个空心邻域内的函数值恒不取$u_0$这个条件是不能缺少的，考察下面这个例子
\[ g(x)=
  \begin{cases}
    \frac{1}{q} & x = \frac{p}{q}, p,q \in \mathbb{Z}, q>0 \\
    0 & x \in \mathbb{R}-\mathbb{Q}
  \end{cases}
\]
及
\[ f(x) =
  \begin{cases}
    0 & x \neq 0 \\
    1 & x = 0
  \end{cases}
\]
在$x=0$处的情况，$g(x)$即黎曼函数，我们已经知道它在任意无理点处的极限为零，在任意有理点处不存在极限。

\subsection{与数列极限的关系}
\label{sec:relation-between-limit-of-function-and-number-sequence}

以趋点极限为例，函数极限与数列极限之间有如下结论:
\begin{theorem}[函数极限与数列极限的关系]
  在$x_0$的某空心邻域内有定义的函数$f(x)$，当$x \to x_0$时存在极限(记为$A$)的充分必要条件是，对于任意一个在这空心邻域内取值并以$x_0$为极限的数列$x_n$，$\lim_{n \to \infty}f(x_n)$都存在而且都等于$A$。
\end{theorem}

\begin{proof}[证明]
  先证必要性，如果$\lim_{x \to x_0} f(x) = A$，那么对于任意小的正实数$\varepsilon > 0$，都存在另一个正实数$\delta > 0$，使得对这邻域内满足$|x-x_0|<\delta$的实数$x$都成立不等式$|f(x)-A|<\varepsilon$，那么对于任意一个也在这空心邻域内取值并以$x_0$为极限的数列$x_n$，因为它以$x_0$为极限，所以对于这个$\delta>0$，就必然能够从某一项$x_N$开始，后面的所有项都满足$|x_n-x_0|<\delta$，于是就有$|f(x_n)-A|<\varepsilon$，这就表明$f(x_n)$当$n \to \infty$时以$A$为极限，必要性得证。

  再证充分性，如果对于任意一个在这空心邻域内取值并收敛到$x_0$的数列$x_n$，对应的函数值数列$f(x_n)$都收敛到同一实数$A$，我们将证明，函数$f(x)$在$x \to x_0$时也必将收敛到$A$. 采用反证法，假使函数$f(x)$当$x \to x_0$时不以数$A$为极限，那么必然存在某个$\varepsilon_0>0$，使得无论把另一个正实数$\delta>0$限制得多么小，总有满足$|x-x_0|<\delta$的实数$x$能够使得$|f(x)-A| \geqslant \varepsilon_0$成立，于是先取$\delta=1$，得出一个符合这条件的实数$x_1$，然而取$\delta=\min\{\frac{1}{2}, |x_1-x_0|\}>0$，又可以选出$x_2$，依次这样下去，逐个令$\delta_n=\min\{\frac{1}{n}, |x_{n-1}-x_0|\}$，就可以挑选出$x_{n+1}$，这样就作出一个数列$x_n$，由$|x_n-x_0|<\delta_n<\frac{1}{n}$可知$x_n$收敛到$x_0$，但是由于$|f(x_n)-A| \geqslant \varepsilon$恒成立，可知数列$f(x_n)$并不收敛到$A$，这样，我们就证明了如果函数$f(x)$当$x \to x_0$时不以$A$为极限，那么就可以构造出一个以$x_0$为极限的数列$x_n$，使得$f(x_n)$也不以$A$为极限，这与我们的条件是矛盾的，所以充分性得证。
\end{proof}

事实上，如果任意以$x_0$为极限的数列$x_n$，函数值数列$f(x_n)$都收敛的话，这些极限值也必然相同，这是因为，如若不然，假如两个数列$x_n$和$r_n$分别以$A$和$B$为极限，那么在这两个数列中交错的取项构成另一数列$s_n$，显然$s_n$也以$x_0$为极限，而函数值数列$f(s_n)$中的奇数下标子列和偶数下标子列分别以$A$和$B$为极限，由条件知$f(s_n)$应有极限，所以$A=B$.有了这结论，上述定理中的条件可以适当减弱。


\subsection{单调有界定理}
\label{sec:theorem-of-monotone-and-bounded-of-function-limit}

与数列的单调有界定理相仿，我们有以下定理
\begin{theorem}
  如果函数$f(x)$在$x_0$的某左空心邻域内单调递增且有上界，则函数$f(x)$在$x_0$处的左极限存在，右极限也有类似的结论。
\end{theorem}

\begin{proof}[证明]
证明很简单，只要在这左邻域内任取一单调增加并以$x_0$为极限的数列$x_n$，则函数值数列$f(x_n)$亦必是单调增加的数列，而它又有上界，所以它有极限，设这极限为$A$，则易证$A$便是函数在这左空心邻域内的上确界，那么对于无论多么小的正实数$\varepsilon$，都存在正整数$N$，使得当$n>N$时恒有$|f(x_n)-A|<\varepsilon$成立，于是取$\delta = x_0-x_{N+1}>0$，则对于任意满足$x_0-\delta<x<x_0$的实数$x$，有$x_N+1<x<x_0$，因而$A-\varepsilon<f(x_{N+1})<f(x) \leqslant A$，这表明$A$就是$f(x)$在$x_0$处的左极限。
\end{proof}

\subsection{柯西收敛准则}
\label{sec:cauchy-convergence-rule-of-function-limit}

仿照数列的柯西收敛准则，有
\begin{theorem}
  函数$f(x)$在$x_0$的某空心邻域内有定义，则它在该存在极限的充分必要条件是: 任给无论多么小的正实数$\varepsilon$，恒存在另一正实数$\delta$，使得对任意满足$|x-x_0|<\delta$的两个实数$x_1$和$x_2$都成立$|f(x_1)-f(x_2)|<\varepsilon$.
\end{theorem}

\begin{proof}[证明]
  必要性是容易证明的，略去，下证充分性，取正实数数列$\varepsilon_n=1/n(n=1,2,\ldots)$，存在另一单调递减的正实数数列$\delta_n$，使得对于任意满足$|x_1-x_0|<\delta_n$和$|x_2-x_0|<\delta_n$的$x_1,x_2$都成立$|f(x_1)-f(x_2)|<\varepsilon_n$，于是函数$f(x)$在$x_0$的以$\delta_n$为半径的空心邻域内的函数值都必将限于一个长度为$\varepsilon$的闭区间$[m_n,M_n]$上，显然这个闭区间序列符合闭区间套定理的条件，所以有唯一实数$A$从属于所有的闭区间，显然这实数$A$也是函数$f(x)$在$x_0$处的极限。
\end{proof}


\subsection{两个重要的函数极限}
\label{sec:two-important-function-limit}

这一节的主要任务是建立两个重要极限.

\begin{theorem}
  \label{theorem:sinx-over-x-to-1-when-x-to-0}
  对于正弦函数，有如下极限
  \[ \lim_{x \to 0} \frac{\sin{x}}{x} = 1 \]
\end{theorem}

\begin{proof}[证明]

  如\autoref{fig:limit-of-sinx-over-x-at-0}，在单位圆中，点$A$和$C$是圆周上两点,并且$\angle AOC$的弧度值为$x$，$x$是锐角，$OC$与点$A$处的切线相交于点$B$,由图可得
  
\begin{figure}[htbp]
\centering
\includegraphics{limit/pic/limit-of-sinx-over-x-at-0.pdf}
\includegraphics{limit/pic/graphy-of-function-sinx-over-x.pdf}
\caption{}
\label{fig:limit-of-sinx-over-x-at-0}
\end{figure}

  \[ S_{\triangle AOC} < S_{\text{扇形}AOC} < S_{\triangle AOB} \]
  于是便得
  \[ \sin{x} < x < \tan{x} \]
  从而
  \[ \cos{x} < \frac{\sin{x}}{x} < 1 \]
  而当$x \to 0$时, $\cos{x} \to 1$，所以最终得极限
  \[ \lim_{x \to 0} \frac{\sin{x}}{x} = 1 \]
\end{proof}

函数$f(x)=\sin{x}/x$在$x=0$附近的图象如\autoref{fig:limit-of-sinx-over-x-at-0}所示，它的图象反得在函数$y=1/x$和$y=-1/x$之间振荡，在$x=0$附近，函数值趋于1，但它在$x=0$处并无定义。

定理表明，在$x \to 0$时，正弦函数$\sin{x}$与$x$是等价无穷小，即$\sin{x}=x+o(x)$.

\begin{example}
  关于余弦函数$\cos{x}$在$x \to 0$，也有如下结果
  \[ \lim_{x \to 0} \frac{1-\cos{x}}{x^2} = \frac{1}{2} \]
  这是由于
    \[ \frac{1-\cos{x}}{x^2} = \frac{2\sin^2 \frac{x}{2}}{x^2} = \frac{1}{2} \cdot \left( \frac{\sin{\frac{x}{2}}}{\frac{x}{2}} \right)^2 \]
    取极限并利用平方函数的连续性即得结论，于是就有，在$x \to 0$时，有$\cos{x}=1-\frac{1}{2}x^2+o(x^2)$.
\end{example}

\begin{example}
  对于正切函数，我们有
  \[ \lim_{x \to 0} \frac{\tan{x}}{x} = 1 \]
  这从$\tan{x}=\frac{\sin{x}}{\cos{x}}$便可以得出，于是在$x \to 0$时，有$\tan{x} = x + o(x)$.
\end{example}

\begin{example}
  \label{example:limit-of-sin-cos-function}
  我们来证明正弦函数$f(x)=\sin{x}$在任意$x_0 \in \mathbb{R}$处的极限是$\sin{x_0}$，即
  \[ \lim_{x \to x_0} \sin{x} = \sin{x_0} \]
  因为
  \[ |\sin{x}-\sin{x_0}| = 2 \left| \cos{\frac{x+x_0}{2}} \sin{\frac{x-x_0}{2}} \right| \leqslant 2 \left| \sin{\frac{x-x_0}{2}} \right| \]
  根据我们已经知道的不等式，$\forall x \in \left(- \frac{\pi}{2}, \frac{\pi}{2} \right)$有$|\sin{x}| \leqslant |x|$，所以只要限定$|x-x_0|<\frac{\pi}{2}$，就有
  \[ |\sin{x}-\sin{x_0}| \leqslant |x-x_0| \]
  于是对任意正实数$\varepsilon>0$，只要取$0<\delta<\min\{\varepsilon, \frac{\pi}{2}\}$，就能保证$\forall x \in ( x_0+\delta,x_0+\delta )$都有
  \[ |\sin{x}-\sin{x_0}| < \varepsilon \]
  成立，即证明了结论。

  类似的，对于余弦函数，也可以证明
  \[ \lim_{x \to x_0} \cos{x} = \cos{x_0} \]
\end{example}

\begin{example}
  \label{example:limit-of-sinx-sinx0-over-x-x0}
  我们来证明下面的两个极限，这个极限在后面学习导数的时候将会用到
  \[ \lim_{x \to x_0} \frac{\sin{x}-\sin{x_0}}{x-x_0} = \cos{x_0} \]
  以及
  \[ \lim_{x \to x_0} \frac{\cos{x}-\cos{x_0}}{x-x_0} = -\sin{x_0} \]
  只证明第一个，第二个也是类似的，固定$x_0$，
  有
  \[ \frac{\sin{x}-\sin{x_0}}{x-x_0} = 2\cos{\frac{x+x_0}{2}} \cdot \frac{\sin{\frac{x-x_0}{2}}}{x-x_0} \]
  显然当$x \to x_0$时，后一个因式趋于$\frac{1}{2}$，而第一个因式我们已经证明了它趋于$\cos{x_0}$，因而便得结论。
\end{example}

我们在数列极限的部分曾经证明过下面这个数列存在极限
\[ x_n = \left( 1+\frac{1}{n} \right)^n \]
并把它的极限记作$e$，今来把它推广成函数的极限，这就是以下的定理:
\begin{theorem}
  \[ \lim_{x \to \infty} \left( 1+\frac{1}{x} \right)^x = e \]
  这里$e$是自然对数的底数.
\end{theorem}

\begin{proof}[证明]
  设实数$x$的整数部分为$n$，即$n \leqslant x < n+1$，有
  \[ \left( 1+\frac{1}{n+1} \right)^n < \left( 1+\frac{1}{x} \right)^x < \left( 1+\frac{1}{n} \right)^{n+1} \]
  显见左右两边作为两个数列，都以$e$为极限，我们把这左右两边转化为两个函数，即设$x$的整数部分为$n$，定义
  \[ h_1(x) =  \left( 1+\frac{1}{n+1} \right)^n, \ h_2(x)=\left( 1+\frac{1}{n} \right)^{n+1} \]
  于是就有
  \[ \lim_{x \to +\infty} h_1(x) = \lim_{x \to +\infty} h_2(x) = e \]
  所以由夹逼准则即得
  \[ \lim_{x \to +\infty} \left( 1+\frac{1}{x} \right)^x = e \]
  这是函数在正无穷远处的极限，再来看负无穷处的极限，当$x$以负值趋于负无穷时，令$x=-t$，则$x$趋于负无穷等价于$t$趋于正无穷，而
  \[ \left( 1+\frac{1}{x} \right)^x = \frac{1}{\left( 1-\frac{1}{t} \right)^t} = \left( 1+\frac{1}{t-1} \right)^t = \left( 1+\frac{1}{t-1} \right)^{(t-1) \cdot \frac{t}{t-1}} \]
  利用复合函数的极限结果(\autoref{theorem:limit-of-combine-function})，便知当式右端当$t \to +\infty$时的极限是$e$，所以当$x \to -\infty$时左端的极限也就是$e$，所以最终当$x \to \infty$时，函数$(1+1/x)^x$的极限都是$e$.
\end{proof}

在此基础上，我们有更为一般性的结论:
\begin{theorem}
  设函数$f(x)$在某一极限过程中为无穷小，那么在同样的极限过程中有
  \[ \lim (1+f(x))^{1/f(x)} = \mathrm{e} \]
\end{theorem}

\begin{proof}[证明]
  以$x \to \infty$为例，因为$\lim\limits_{x \to \infty}(1+\frac{1}{x})^x = \mathrm{e}$，所以对于无论多么小的正实数$\varepsilon$，都存在正实数$M$，使得满足$|x|>M$的一切实数$x$都符合$|(1+\frac{1}{x})^x-\mathrm{e}|<\varepsilon$，又因为$f(x)$为无穷小，所以对于这个正实数$M$，存在另一正实数$K$，使得当$|x|>K$时，有$|f(x)|<\frac{1}{M}$成立，于是$\left| \frac{1}{f(x)} \right|>M$，从而就有
  \[ \left| (1+f(x))^{1/f(x)} - \mathrm{e} \right| < \varepsilon \]
  这就证得结论。
\end{proof}

\subsection{无穷小与无穷大}
\label{sec:infinite-small-and-great}

与数列类似，我们可以在函数极限中引入无穷小与无穷大的定义，如果函数在某一极限过程中以零为极限，则称其在此极限过程中是无穷小，同样，如果它在这一极限过程中其绝对值能够大于任意的正数，则称其是一个无穷大，类似的可以得到正无穷大和负无穷大的概念。函数极限过程中的无穷小和无穷大有着与无穷小数列和无穷大数列类似的性质。

与数列一样，函数极限过程中的无穷小与无穷大也可以引入阶的比较概念。

\subsection{曲线的渐近线}
\label{sec:asymptotic-line-of-curve}



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../calculus-note"
%%% End:
